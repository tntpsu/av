#!/bin/bash
# Wrapper script for analyze.py (comprehensive analysis) that activates venv automatically

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(cd "$SCRIPT_DIR/.." && pwd)"

# Activate virtual environment
if [ -d "$PROJECT_ROOT/venv" ]; then
    source "$PROJECT_ROOT/venv/bin/activate"
else
    echo "Error: Virtual environment not found at $PROJECT_ROOT/venv"
    echo "Please run: python3 -m venv venv && source venv/bin/activate && pip install -r requirements.txt"
    exit 1
fi

# Run the Python script (analyze.py is a wrapper for comprehensive analysis)
exec python "$SCRIPT_DIR/analyze.py" "$@"

